<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { margin: 0; }
    #renderCanvas { display: block; width: 100%; height: 100%; }
  </style>
</head>
<body>
  <canvas id="renderCanvas"></canvas>
  <script src="https://cdn.babylonjs.com/babylon.js"></script>
  <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
  <script>
    var canvas = document.getElementById("renderCanvas");
    var engine = new BABYLON.Engine(canvas, true);
    var scene = new BABYLON.Scene(engine);
    
    var camera = new BABYLON.UniversalCamera("camera1", new BABYLON.Vector3(0, 0, 10));
    camera.attachControl(canvas, true);
    camera.inertia = 0.9;
    
    var light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(1, 1, 1));
    light.intensity = 0.9;
    
    fetch("https://cdn.jsdelivr.net/gh/artgarth1-afk/ifc-viewer@main/Model.glb")
      .then(r => r.blob())
      .then(blob => {
        var url = URL.createObjectURL(blob);
        BABYLON.SceneLoader.ImportMesh("", "", url, scene, function(meshes) {
          if(meshes.length > 0) {
            var bbox = BABYLON.BoundingInfo.GetBoundingBoxFromMeshes(meshes);
            var size = bbox.maximum.subtract(bbox.minimum);
            var maxSize = Math.max(size.x, size.y, size.z);
            var scale = 5 / maxSize;
            meshes.forEach(m => m.scaling = new BABYLON.Vector3(scale, scale, scale));
          }
        });
      });
    
    engine.runRenderLoop(function () {
      scene.render();
    });
    
    window.addEventListener("resize", function () {
      engine.resize();
    });
  </script>
</body>
</html>
