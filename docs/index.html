<script type="module">
  import { Viewer, IFCLoader } from './xeokit-sdk.es.js';

  const viewer = new Viewer({ canvasId: "viewer" });

  viewer.camera.eye = [20, 20, 20];
  viewer.camera.look = [0, 0, 0];
  viewer.camera.up = [0, 1, 0];

  viewer.cameraControl.setNavigationMode("orbit");

  const ifcLoader = new IFCLoader(viewer);

  let modelEntity = null;
  let selectedEntity = null;

  ifcLoader.load({
    src: "model.ifc",
    webIfc: {
      wasmPath: "./web-ifc.wasm"
    },
    id: "myModel"
  }).then(model => {
    modelEntity = model;
    console.log("IFC модель загружена!");

    viewer.cameraControl.on("picked", e => {
      if (e.entity) {
        viewer.scene.setObjectsHighlighted(viewer.scene.objects, false);
        viewer.scene.setObjectsSelected(viewer.scene.objects, false);

        e.entity.highlighted = true;
        e.entity.selected = true;

        selectedEntity = e.entity;
        console.log("Выбран объект:", e.entity.id);
      }
    });
  }).catch(err => {
    console.error("Ошибка загрузки IFC:", err);
  });

  // Остальные кнопки — без изменений
</script>
